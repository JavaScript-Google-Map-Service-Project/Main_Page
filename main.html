<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
    <meta charset="utf-8">
    <style>
       #map {
        height: 600px;
        width: 600px;
       }
    </style>
  </head>
  <body>
    <h3>JavaScript Project</h3>
    <div id="map"></div>
    <script>
      //사진클릭 이벤트 메인변수명 필드
      var busanPicture;
      var daeguPicture;
      function initMap() {
        var koreaCenter = {lat: 35.95, lng: 127.8};
        var map = new google.maps.Map(document.getElementById('map'), {
          zoom: 7,
          center: koreaCenter,
          streetViewControl: false,
          mapTypeControl: false,
          mapTypeControlOptions: {
            mapTypeIds: ['roadmap', 'satellite', 'hybrid', 'terrain', 'styled_map']
          },
          rotateControl: false,
          zoomControlOptions: {
            position: google.maps.ControlPosition.RIGHT_TOP
          },
        });
        var styleMapType = new google.maps.StyledMapType(
          [
            {"elementType": "labels", "stylers": [{"visibility": "off"}]},
            {"featureType": "administrative", "elementType": "geometry", "stylers": [{"visibility": "off"}]},
            {"featureType": "administrative.land_parcel", "stylers": [{"visibility": "off"}]},
            {"featureType": "administrative.neighborhood", "stylers": [{"visibility": "off"}]},
            {"featureType": "poi", "stylers": [{"visibility": "off"}]},
            {"featureType": "road", "stylers": [{"visibility": "off"}]},
            {"featureType": "road", "elementType": "labels.icon", "stylers": [{"visibility": "off"}]},
            {"featureType": "transit", "stylers": [{"visibility": "off"}]}
          ]
        );
        map.mapTypes.set('styled_map', styleMapType);
        map.setMapTypeId('styled_map');
        var busan = new clickZoom(busanPicture, map, 'https://raw.githubusercontent.com/JavaScript-Google-Map-Service-Project/Main_Page/master/example.jpg', 
                                  35.115, 129.045, 640);
        var daegu = new clickZoom(daeguPicture, map, 'https://raw.githubusercontent.com/JavaScript-Google-Map-Service-Project/Main_Page/master/example.jpg', 
                                  35.783, 128.563, 640);
      }
      
      //사진클릭시 확대되는 이벤트 함수
      function clickZoom(picture, mainMap, pictureLocation, latitude, longitude, width) {
        /*clickZoom(메인변수(17번 줄에서 메인변수 선언 필요), 
                    무조건 map기입, 
                    사진 저장위치('https://raw.githubusercontent.com/JavaScript-Google-Map-Service-Project/Main_Page/master/*'
                                github에 사진파일 업로드 후 *위치에 사진파일 이름 기입), 
                    목표장소 위도, 
                    목표장소 경도, 
                    사진 세로길이(pixel) : width / 16000,
                    사진 가로길이(pixel) : width / 9000
                      사진크기는 16:9 비율임.)
        */
        var picture;
    
        var mainMap;
        var pictureLocation;
        var latitude;
        var longitude;
        var width;
        
        var imageSize = {
          north: latitude + (width / 16000),
          south: latitude - (width / 16000),
          east: longitude + (width / 9000),
          west: longitude - (width / 9000)
        }
        picture = new google.maps.GroundOverlay(
          pictureLocation, imageSize);
        picture.setMap(mainMap);
        picture.addListener('click', function() {
          mainMap.setZoom(12);
          mainMap.setCenter({lat: latitude, lng: longitude});
        });
      }
    </script>
    <script async defer
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBjdn9RR7z4TMRO-RczmdYc5ehemJTikRY&callback=initMap&libraries=drawing&style=feature:road|visibility:off&libraries=visualization$region=KR">
    </script>
  </body>
</html>